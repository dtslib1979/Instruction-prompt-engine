<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="manifest" href="manifest.webmanifest"/>
  <link rel="stylesheet" href="styles.css?v=17.5">
  <title>Instruction Prompt PWA</title>
</head>
<body>
<header class="app-header">
  <div class="inner">
    <div class="brand">Instruction Prompt PWA</div>
    <div class="toolbar">
      <button id="btnSyncAll" class="btn ghost">Sync</button>
      <button id="btnInstall" class="btn solid">Install</button>
    </div>
  </div>
</header>

<!-- Update banner mounts here when SW says NEW_VERSION -->
<div id="updateMount"></div>

<section class="hero">
  <div class="hero-card">
    <span class="kicker">Prompt book · PWA</span>
    <h2>Copy-first mobile instruction book</h2>
    <p>Open a category → scan titles → copy instantly. Pin up to 10 favorites.</p>
  </div>
</section>

<main class="container">
  <div class="columns">
    <!-- Categories (accordion) -->
    <aside class="panel">
      <h3>Categories</h3>
      <div id="catAccordion" class="acc"></div>
    </aside>

    <!-- Prompt cards -->
    <section class="panel">
      <div id="promptGrid" class="grid"></div>
    </section>

    <!-- Favorites - only visible on desktop -->
    <aside class="panel favorites-panel">
      <h3>Favorites</h3>
      <ul id="favList" class="fav-list"></ul>
    </aside>
  </div>
</main>

<footer class="app-footer">
  <button id="btnImprint" class="link-btn">Imprint</button>
  <span> · </span>
  <span>© dtslib · v17.5</span>
</footer>

<!-- 바텀시트 -->
<dialog id="imprintSheet" class="sheet">
  <form method="dialog">
    <header><strong>Imprint</strong><button>Close</button></header>
    <div class="sheet-body">
      <div class="row"><span>Company</span><span>dtslib</span></div>
      <div class="row"><span>Business Reg. No.</span><span>475-01-03493</span></div>
      <div class="row"><span>Publisher Decl. No.</span><span>2024-000013</span></div>
      <div class="row"><span>Address</span><span>305, 16, Waryong-ro…</span></div>
      <div class="row"><span>E-mail</span><span>dimas@dtslib.com</span></div>
    </div>
  </form>
</dialog>

<script src="app.js?v=17.5" defer></script>

<script>
const sheet = document.getElementById('imprintSheet');
document.getElementById('btnImprint').addEventListener('click', () => sheet.showModal());
</script>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/Instruction-prompt-engine/sw.js', {
    scope: '/Instruction-prompt-engine/'
  });
}
</script>
</body>
</html>